<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Judy Hanwen Shen Portfolio </title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="all,follow">
    <!-- Bootstrap-->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <!-- Google fonts - Open Sans-->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,300,700,400italic">
    <!-- Font Awesome CSS-->
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <!-- owl carousel-->
    <link rel="stylesheet" href="css/owl.carousel.css">
    <link rel="stylesheet" href="css/owl.theme.css">
    <!-- theme stylesheet-->
    <link rel="stylesheet" href="css/style.default.css" id="theme-stylesheet">
    <!-- Custom stylesheet - for your changes-->
    <link rel="stylesheet" href="css/custom.css">
    <!-- Favicon-->
    <link rel="shortcut icon" href="favicon.png">
    <!-- Tweaks for older IEs--><!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script><![endif]-->
  </head>
  <body>
    <div id="all">
      <div class="container-fluid">
        <div class="row row-offcanvas row-offcanvas-left"> 
 <!--   *** SIDEBAR ***-->
          <div id="sidebar" class="col-xs-6 col-sm-4 col-md-3 sidebar-offcanvas">
            <div class="sidebar-content">
              <h1 class="sidebar-heading"> <a href="index.html">Judy Hanwen Shen</a></h1>
              <p class="sidebar-p">Technical Program Manager Intern at Microsoft; social media NLP researcher </p>
              <p class="sidebar-p">Seattle, USA </p>
              <p class="sidebar-p">MIT Media Lab Class of 2019 <br> University of Toronto Class of 2017 </p>
              <ul class="sidebar-menu"> 
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="CV.pdf">CV</a></li>
              </ul>
              <p class="social">
                     <a href="https://ca.linkedin.com/in/judyhanwenshen" data-animate-hover="pulse" class="external gplus"><i class="fa fa-linkedin"></i></a>
                  <a href="https://twitter.com/judyhshen" data-animate-hover="pulse" class="external twitter"><i class="fa fa-twitter"></i></a>
                  <a href="https://todiscernelegance.wordpress.com/" data-animate-hover="pulse" class="external twitter"><i class="fa fa-wordpress"></i></a>
                      <a href="mailto:heyyjudes@outlook.com" data-animate-hover="pulse" class="email"><i class="fa fa-envelope"></i></a></p>
                
            </div>
          </div>
          <!--   *** SIDEBAR END ***  -->
          <!--   *** DETAIL ***-->
          <div class="col-xs-12 col-sm-8 col-md-9 content-column white-background">
            <div class="small-navbar visible-xs">
              <button type="button" data-toggle="offcanvas" class="btn btn-ghost pull-left"> <i class="fa fa-align-left"> </i>Menu</button>
              <h1 class="small-navbar-heading"> <a href="index.html">Creative </a></h1>
            </div>
            <div class="row">
              <div class="col-lg-8">
                <div class="content-column-content">
                  <h1>Project Aries: Pokemon Go with Drones</h1>
                  <p class="lead">
                      Vision guided drone which recongizes, tracks and drops payload (pokeballs) on pokemon.
                    </p>
                    <div class="item"><img alt="" src="img/portfolio/pika.png" class="img-responsive"></div>
                                           
                  <p> Many autonomous robotics systems rely on external cameras to locate the robot in relation to the environment. This presents challenges to scaling the system to large or new environments. In this project, we use soley onboard cameras to locate a target object and deliver a payload. Although this project could have a wide range of applications, we demonstrate a proof of concept application of catching a Pikachu.</p>
                    
                  <h2>Pikachu Detection</h2>
                  <p> The image recognition system in our final prototype was implemented using Haar cascades classifiers. Haar cascades are boosted cascades of simple features designed for rapid object recognition. They are commonly used in face and facial feature detection.  Unlike CNNs, a different classifier needs to be trained for each object we wanted to recognize. Although researchers use up to 20,000 positive and negative samples to train their cascade classifiers, we found that using 2000 negative samples with 1 positive sample was enough to train a decent classifier. We rented our own server from Digital Ocean to train the cascades faster. For recognition, various parameters such as minimum neighbors and minimum size of object were tuned to each target object. </p>
                    
                    <div class="item"><img alt="" src="img/portfolio/identification.png" class="img-responsive"></div>
                    
<p>The Haar cascade classifier was not consistent in every light setting. The effectiveness of the classifier depended on the time of day, testing location, and direction of light. To make the recognition more robust, we added a color filter by calculating the number of pixels in the object color range. To detect when the object was not in the field of view, we also added a minimum color pixel ratio to be met before a positive was displayed. We also attempted to normalize the image using linear transformations, contrast stretching, and histogram equalization. Despite all the measures we put in place to increase robustness, we still needed to calibrate the recognition colour thresholds for each test environment. </p>

<p>To center above the object, we used the bottom camera of the drone. Since the Haar cascade classifiers were only trained to recognize the front view of each object, we wanted to simply use colour to align the drone from above; however, the bottom camera was lower in resolution and streamed washed out images. For the same object, the bottom camera hue ranges differed significantly from the front camera. For example, the bright yellow Pikachu appears white in the bottom camera. From previous experiments, we found that neon colours worked well in many different conditions. We lined the top of the pedestal, where each object was placed, with bright pink bristol board. We then successfully used the pink hues to align the quad from above.  
 </p>
                    
<h2>Pikachu Tracking</h2>
<p>Frame-by-frame static image 
The first option we explored for updating the location of the target object was to find the object in every frame. While this worked when the only criteria was colour, this method was too slow for other image recognitions classifiers. We investigated other tracking algorithms for better tracking the object. </p>

<p>
Mean shift is fast very stable for tracking objects but is not able to accommodate changes in the object's shape and size over time. The object boundary remained the same size even though its relative position to the drone was changing. This was not adequate for the control loop of the approach. We continued to investigate more complex versions of this algorithm. 
</p>
<div class="item"><img alt="" src="img/gifs/pika_yaw.gif" class="img-responsive"></div>        
<p>
CAM shift is a more complex version of mean shift where changes in the size of the object are accounted for. Similar to Haar cascade classifiers, CAM Shift also became inconsistent when the lighting changed. In some conditions, the tracking box would expand to the entire screen. In other conditions, the bounding box would flicker to different objects in view. Normalization techniques also did not improve the bounding box consistency. In the end, we improved robustness by readjusting the HSV ranges for for both CAM Shift initialization and update steps for each object in each lighting condition. We ultimately went with CAM Shift as it is definitely stable enough when HSV values of the camera feed are tuned for the specific object. 
</p>
                
                <h2>Pokeball Dispenser</h2>
                  <p>We designed a Pokeball dispenser and used 3-D printing to create the prototype. We attached the dispenser to the top-center of the vehicle using velcro. </p>   
                    
                <div class="item"><img alt="" src="img/portfolio/dispenser.png" class="img-responsive"></div>
                    
                <h2>Results</h2>
                    <p>Successfully finding, hovering over and dropping pokeball on Pikachu</p>
                    <div class="item"><img alt="" src="img/portfolio/approaching.png" class="img-responsive"></div>
                    <div class="item"><img alt="" src="img/portfolio/birdseye.png" class="img-responsive"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Javascript files-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"> </script>
    <script src="js/jquery.cookie.js"> </script>
    <script src="js/ekko-lightbox.js"></script>
    <script src="js/jquery.scrollTo.min.js"></script>
    <script src="js/masonry.pkgd.min.js"></script>
    <script src="js/imagesloaded.pkgd.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/front.js"></script>
    <!-- Google Analytics: change UA-XXXXX-X to be your site's ID.-->
    <!---->
    <script>
      (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
      function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
      e=o.createElement(i);r=o.getElementsByTagName(i)[0];
      e.src='//www.google-analytics.com/analytics.js';
      r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
      ga('create','UA-XXXXX-X');ga('send','pageview');
    </script>
  </body>
</html>